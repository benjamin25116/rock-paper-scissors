<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Rock Paper Scissors</title>
</head>

<body>

	<script>
		function computerPlay() {
			/*
			returns rock, paper or scissors randomly for the computer
			*/
			let hand = Math.floor(Math.random() * 3)
			switch (hand) {
				case 0: return "rock"
					break;
				case 1: return "paper"
					break;
				case 2: return "scissors"
					break;
			}
		}

		function playRound(playerSelection, computerSelection) {
			/*
			Plays a round of rock paper scissors. 
			@param: "playerSelection" and "computerSeletion" 
			@return: a string that declares the winner
			*/

			const win = "You won!"
			const lose = "You lose!"

			if (playerSelection === computerSelection) {
				return "It's a draw!";
			}

			switch (playerSelection) {
				case "rock":
					if (computerSelection === "scissors") {
						return win
					}
					return lose

				case "paper":
					if (computerSelection === "rock") {
						return win
					}
					return lose

				case "scissors":
					if (computerSelection === "paper") {
						return win
					}
					return lose
			}

		}

		function isValidMove(move) {
			if (move === "rock" || move === "paper" || move === "scissors") {
				return true
			} return false
		}

		function game() {
			let playerScore = 0
			let computerScore = 0
			let playerSelection
			let computerSelection
			let result
			let finalResult
			for (let i = 0; i < 5; i++) {
				computerSelection = computerPlay()
				playerSelection = prompt("Rock, paper or scissors?").toLowerCase()
				// playerSelection = computerPlay()
				if (isValidMove(playerSelection)) {
					result = playRound(playerSelection, computerSelection)
					if (result === "You won!") {
						playerScore++
					}
					if (result === "You lose!") {
						computerScore++
					}
					console.log(playerScore + " " + computerScore)
				}
			}
			if (playerScore === computerScore) {
				finalResult = "It's a draw"
			}
			if (playerScore > computerScore) {
				finalResult = "You WIN"
			}
			if (playerScore < computerScore) {
				finalResult = "You LOSE"
			}
			console.log(finalResult)




			// calls the playRound function five times (to play the game 5 times),
			// keeps track of the scores, and declares the winner/loser at the end.
			// use console.log to display the results.
			// use prompt() to get user input.
			// write helper functions as necessary
		}

		game()
	</script>
</body>

</html>